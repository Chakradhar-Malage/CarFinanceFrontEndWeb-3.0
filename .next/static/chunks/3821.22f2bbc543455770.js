"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3821],{63821:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var o=a(95155),c=a(58803),n=a.n(c),s=a(12115),i=a(5565),r=a(76046),b=a(55178),l=a.n(b),d=a(93004);l().setAppElement(document.body);let x=()=>{let e=(0,r.useRouter)(),t=(0,r.useSearchParams)().get("bankName")||"",a=d.dr.UserName,[c,b]=(0,s.useState)(null),[x,p]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[g,f]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[h,k]=(0,s.useState)(!1),y=async()=>{try{let e=await fetch("http://15.207.48.53:3000/api/accounts");if(!e.ok){let t=await e.json();console.error("Error fetching accounts:",t.message);return}let a=(await e.json()).accounts.find(e=>e.name===t);a&&b(a)}catch(e){console.error("Error fetching account data:",e)}};(0,s.useEffect)(()=>{y()},[t]);let N=a=>{"transactions"===a&&e.push("/TransactionsScreen?bankName=".concat(t))},C=e=>{m(e),p(!0)},z=()=>{p(!1),f(""),w(""),m(null)},v=async()=>{if(!g||isNaN(parseFloat(g))){window.alert("Please enter a valid amount");return}k(!0);let e={bankName:t,transactionType:u,amount:parseFloat(g),description:j};try{let t=await fetch("http://15.207.48.53:3000/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();window.alert(e.message||"Something went wrong"),k(!1);return}await t.json(),window.alert("Transaction processed successfully"),p(!1),f(""),w(""),m(null),y()}catch(e){console.error("API Error:",e),window.alert("Unable to process transaction at this time.")}finally{k(!1)}};return(0,o.jsxs)("div",{className:"jsx-a273becbce4cbe05 container",children:[(0,o.jsxs)("div",{className:"jsx-a273becbce4cbe05 headerContainer",children:[(0,o.jsx)(i.default,{className:"usrimg",src:"/images/usericon.png",alt:"User Icon",width:50,height:50}),(0,o.jsxs)("div",{className:"jsx-a273becbce4cbe05 userInfo",children:[(0,o.jsx)("p",{className:"jsx-a273becbce4cbe05 helloname",children:"Hello,"}),(0,o.jsx)("p",{className:"jsx-a273becbce4cbe05 username",children:a})]}),(0,o.jsx)("button",{onClick:()=>console.log("Logout pressed"),className:"jsx-a273becbce4cbe05 logoutButton",children:(0,o.jsx)(i.default,{className:"logoutimg",src:"/images/Logout.png",alt:"Logout",width:25,height:25})})]}),(0,o.jsx)("div",{className:"jsx-a273becbce4cbe05 separator"}),(0,o.jsxs)("div",{className:"jsx-a273becbce4cbe05 selectedBankContainer",children:[(0,o.jsxs)("p",{className:"jsx-a273becbce4cbe05 selectedBankText",children:[t," Account Details"]}),c&&(0,o.jsxs)("p",{className:"jsx-a273becbce4cbe05 balanceText",children:["Current Balance: Rs. ",c.current_balance]})]}),(0,o.jsx)("div",{className:"jsx-a273becbce4cbe05 optionsContainer",children:[{title:"View Transactions",key:"transactions"}].map(e=>(0,o.jsx)("button",{onClick:()=>N(e.key),className:"jsx-a273becbce4cbe05 optionButton",children:e.title},e.key))}),(0,o.jsxs)("div",{className:"jsx-a273becbce4cbe05 transactionRow",children:[(0,o.jsx)("button",{onClick:()=>C("credit"),className:"jsx-a273becbce4cbe05 transactionButton",children:"Credit"}),(0,o.jsx)("button",{onClick:()=>C("debit"),className:"jsx-a273becbce4cbe05 transactionButton",children:"Debit"})]}),(0,o.jsx)(l(),{isOpen:x,onRequestClose:z,className:"modalContainer",overlayClassName:"modalOverlay",children:(0,o.jsxs)("div",{className:"jsx-a273becbce4cbe05 modalContent",children:[(0,o.jsx)("p",{className:"jsx-a273becbce4cbe05 modalTitle",children:"credit"===u?"Credit Transaction":"Debit Transaction"}),(0,o.jsx)("input",{type:"number",placeholder:"Enter amount",value:g,onChange:e=>f(e.target.value),className:"jsx-a273becbce4cbe05 input"}),(0,o.jsx)("input",{type:"text",placeholder:"credit"===u?"Description of credit:":"Reason for debit?",value:j,onChange:e=>w(e.target.value),className:"jsx-a273becbce4cbe05 input"}),(0,o.jsxs)("div",{className:"jsx-a273becbce4cbe05 modalButtonRow",children:[(0,o.jsx)("button",{onClick:z,disabled:h,className:"jsx-a273becbce4cbe05 modalButton",children:"Cancel"}),(0,o.jsx)("button",{onClick:v,disabled:h,className:"jsx-a273becbce4cbe05 modalButton",children:h?"Submitting...":"Submit"})]})]})}),(0,o.jsx)(n(),{id:"a273becbce4cbe05",children:".container.jsx-a273becbce4cbe05{padding:20px;background-color:#fff;font-family:sans-serif}.headerContainer.jsx-a273becbce4cbe05{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px}.usrimg.jsx-a273becbce4cbe05{-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px}.userInfo.jsx-a273becbce4cbe05{margin-left:10px;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.helloname.jsx-a273becbce4cbe05{font-size:14px;color:#333;margin:0}.username.jsx-a273becbce4cbe05{font-size:16px;font-weight:bold;color:darkslategrey;margin:0}.logoutButton.jsx-a273becbce4cbe05{background:none;border:none;cursor:pointer}.logoutimg.jsx-a273becbce4cbe05{width:25px;height:25px}.separator.jsx-a273becbce4cbe05{border-bottom:1px solid rgb(0,0,0);margin:0 20px 10px}.selectedBankContainer.jsx-a273becbce4cbe05{margin:0 20px;margin-top:10px;padding:15px;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;background-color:#f0f0f0;text-align:center}.selectedBankText.jsx-a273becbce4cbe05{font-size:18px;font-weight:bold;color:#333;margin:0}.balanceText.jsx-a273becbce4cbe05{font-size:16px;margin-top:5px;color:green}.optionsContainer.jsx-a273becbce4cbe05{margin:20px}.optionButton.jsx-a273becbce4cbe05{background-color:#841584;color:#fff;padding:15px 20px;border:none;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;margin-bottom:15px;width:100%;font-size:16px;font-weight:bold;cursor:pointer}.transactionRow.jsx-a273becbce4cbe05{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;margin:20px}.transactionButton.jsx-a273becbce4cbe05{background-color:#841584;color:#fff;padding:15px 20px;border:none;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-box-flex:.45;-webkit-flex:.45;-moz-box-flex:.45;-ms-flex:.45;flex:.45;font-size:16px;font-weight:bold;cursor:pointer}.modalOverlay.jsx-a273becbce4cbe05{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.modalContainer.jsx-a273becbce4cbe05{background:#fff;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;padding:20px;width:80%;max-width:400px;margin:auto;position:relative}.modalContent.jsx-a273becbce4cbe05{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.modalTitle.jsx-a273becbce4cbe05{font-size:18px;font-weight:bold;margin-bottom:10px;text-align:center}.input.jsx-a273becbce4cbe05{border:1px solid#ccc;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;padding:10px;margin-bottom:10px;font-size:16px}.modalButtonRow.jsx-a273becbce4cbe05{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;margin-top:10px}.modalButton.jsx-a273becbce4cbe05{background-color:#841584;padding:10px 20px;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;border:none;color:#fff;font-weight:bold;cursor:pointer}@media(max-width:600px){.headerContainer.jsx-a273becbce4cbe05,.separator.jsx-a273becbce4cbe05,.selectedBankContainer.jsx-a273becbce4cbe05,.optionsContainer.jsx-a273becbce4cbe05,.transactionRow.jsx-a273becbce4cbe05{margin:10px}.optionButton.jsx-a273becbce4cbe05,.transactionButton.jsx-a273becbce4cbe05{font-size:14px;padding:12px 15px}.input.jsx-a273becbce4cbe05{font-size:14px;padding:8px}.modalButton.jsx-a273becbce4cbe05{font-size:14px;padding:8px 15px}}"})]})}},93004:(e,t,a)=>{a.d(t,{K6:()=>n,dr:()=>o,jI:()=>c});let o={TempforViewing:null,totalPendingAmount:0,UserName:"OmSai",totalCount:0},c=()=>{try{let e=localStorage.getItem("totalPendingAmount"),t=localStorage.getItem("totalCount");null!==e&&(o.totalPendingAmount=Number(e)),null!==t&&(o.totalCount=Number(t))}catch(e){console.error("Error loading global state:",e)}},n=()=>{try{localStorage.setItem("totalPendingAmount",String(o.totalPendingAmount)),localStorage.setItem("totalCount",String(o.totalCount))}catch(e){console.error("Error saving global state:",e)}}}}]);