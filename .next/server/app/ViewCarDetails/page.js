(()=>{var e={};e.id=282,e.ids=[282],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},66664:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=t(70260),r=t(28203),i=t(25155),n=t.n(i),o=t(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(a,d);let l=["",{children:["ViewCarDetails",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,83805)),"/home/ubuntu/CarFinanceBackend/CarFinanceBackend/CarFinanceFrontendWeb/src/app/ViewCarDetails/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,50919))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"/home/ubuntu/CarFinanceBackend/CarFinanceBackend/CarFinanceFrontendWeb/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,50919))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/ubuntu/CarFinanceBackend/CarFinanceBackend/CarFinanceFrontendWeb/src/app/ViewCarDetails/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/ViewCarDetails/page",pathname:"/ViewCarDetails",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},94957:(e,a,t)=>{Promise.resolve().then(t.bind(t,83805))},42221:(e,a,t)=>{Promise.resolve().then(t.bind(t,52417))},52417:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(45512),r=t(63),i=t.n(r),n=t(58009),o=t(79334),d=t(85668),l=t(56257),c=t.n(l),x=t(85672),p=t(45103);let u=()=>{let[e,a]=(0,n.useState)(null),[t,r]=(0,n.useState)(!0),l=x.dr.UserName,u=(0,o.useRouter)(),b=x.dr.TempforViewing,[m,g]=(0,n.useState)(""),[j,h]=(0,n.useState)(""),[f,w]=(0,n.useState)(""),[v,k]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[C,z]=(0,n.useState)(""),[_,P]=(0,n.useState)(""),[F,S]=(0,n.useState)(""),[A,q]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!b){window.alert("No vehicle ID found"),r(!1);return}(async()=>{try{let e=await fetch(`http://15.207.48.53:3000/searchById?id=${encodeURIComponent(b)}`),t=await e.json();0===t.length?window.alert("No details found for this vehicle"):(a(t[0]),h(t[0].agreed_amount.toString()),w(t[0].issued_to),k(t[0].address||""),g(t[0].received_amount.toString()),S(t[0].date),P(t[0].driver_expense.toString()),N(t[0].fuel_expense.toString()),z(t[0].maintenance.toString()))}catch(e){console.error("Error fetching data:",e),window.alert("Error fetching data: "+e.message)}finally{r(!1)}})()},[]);let D=async()=>{try{let e={};void 0!==j&&(e.agreed_amount=parseInt(j)),void 0!==m&&(e.received_amount=parseInt(m)),void 0!==y&&(e.fuel_expense=parseInt(y)),void 0!==C&&(e.maintenance=parseInt(C)),void 0!==_&&(e.driver_expense=parseInt(_)),void 0!==f&&(e.issued_to=f),void 0!==v&&(e.address=v),void 0!==F&&(e.date=F);let a=await d.A.put(`http://15.207.48.53:3000/updateCarDetails/${b}`,e);200===a.status?(window.alert("Car details updated successfully."),u.back()):window.alert("Failed to update car details.")}catch(e){console.error("Error updating car details:",e.response?.data||e.message),window.alert("An error occurred while updating car details.")}},I=c()(F,"DD/MM/YYYY").format("YYYY-MM-DD"),E=async()=>{try{let e=(y?parseInt(y):0)+(_?parseInt(_):0)+(C?parseInt(C):0),a={vehicle_number:b,agreed_amount:parseInt(j)||0,issued_to:f||"N/A",address:v||"N/A",total_expenses:e,cleared_date:I},t=await d.A.post("http://15.207.48.53:3000/saveClearedDetails",a);200===t.status?(window.alert("Details saved successfully."),w("N/A"),k("N/A"),h("0"),g("0"),N("0"),z("0"),P("0")):window.alert("Failed to save details.")}catch(e){console.error("Error saving cleared details:",e.response?.data||e.message),window.alert("Vehicle is already cleared.")}},V=()=>{let a=j||(e?e.agreed_amount.toString():"0"),t=m||(e?e.received_amount.toString():"0");return parseInt(a,10)-parseInt(t,10)},B=async()=>{let e=V();if(e>0)try{let a=await d.A.post("http://15.207.48.53:3000/processPendingAmount",{vehicleId:b,pending_amount:e,customer_name:f,address:v||"N/A"});if(200===a.status||201===a.status)window.alert("Pending amount processed successfully."),await E(),w("N/A"),k("N/A"),h("0"),g("0"),N("0"),z("0"),P("0");else{let e=a.data.message;window.alert("Failed to process pending amount: "+e)}}catch(e){console.error("Error processing pending amount:",e.response?.data||e.message),window.alert("An error occurred while processing pending amount: "+(e.response?.data.message||e.message))}else window.alert("Pending amount must be greater than zero.")},M=async()=>{await E(),q(!1)},Y=async()=>{await B(),q(!1)};return t?(0,s.jsx)("p",{children:"Loading..."}):e?(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 main-container",children:[(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 header",children:[(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 user-container",children:[(0,s.jsx)(p.default,{src:"/webbuild/images/usericon.png",alt:"User Icon",width:50,height:50,className:"usrimg"}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 header-text",children:[(0,s.jsx)("p",{className:"jsx-aed0477b377e7380 helloname",children:"Hello,"}),(0,s.jsx)("p",{className:"jsx-aed0477b377e7380 username",children:l})]})]}),(0,s.jsx)(p.default,{src:"/webbuild/images/Logout.png",alt:"logout",width:25,height:25,className:"logoutimg"})]}),(0,s.jsx)("hr",{className:"jsx-aed0477b377e7380 separator"}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 section-header",children:[(0,s.jsx)(p.default,{src:"/webbuild/images/Car.png",alt:"Car",width:25,height:25,className:"icon"}),(0,s.jsx)("p",{className:"jsx-aed0477b377e7380 section-title",children:"Vehicle Details"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Name of Vehicle:"}),(0,s.jsx)("input",{value:e.name_of_vehicle,readOnly:!0,className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Vehicle Number:"}),(0,s.jsx)("input",{value:b||"",readOnly:!0,className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Issued To:"}),(0,s.jsx)("input",{value:f,onChange:e=>w(e.target.value),placeholder:"Event/Person Name",className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Address:"}),(0,s.jsx)("input",{value:v,onChange:e=>k(e.target.value),placeholder:"Enter address",className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Agreed Amount:"}),(0,s.jsx)("input",{value:j,onChange:e=>h(e.target.value),type:"number",placeholder:e.agreed_amount.toString(),className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Received Amount:"}),(0,s.jsx)("input",{value:m,onChange:e=>g(e.target.value),type:"number",placeholder:e.received_amount.toString(),className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 date-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Date:"}),(0,s.jsx)("input",{value:F,onChange:e=>S(e.target.value),placeholder:e.date,className:"jsx-aed0477b377e7380 date-input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Driver Expense:"}),(0,s.jsx)("input",{value:_,onChange:e=>P(e.target.value),type:"number",placeholder:e.driver_expense.toString(),className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Fuel Expense:"}),(0,s.jsx)("input",{value:y,onChange:e=>N(e.target.value),type:"number",placeholder:e.fuel_expense.toString(),className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 form-group",children:[(0,s.jsx)("label",{className:"jsx-aed0477b377e7380 label",children:"Maintenance:"}),(0,s.jsx)("input",{value:C,onChange:e=>z(e.target.value),type:"number",placeholder:e.maintenance.toString(),className:"jsx-aed0477b377e7380 input"})]}),(0,s.jsxs)("p",{className:"jsx-aed0477b377e7380 pending-amount",children:["Pending Amount: Rs.",V()]}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 button-group",children:[(0,s.jsx)("button",{onClick:()=>{window.confirm("Do you want to save the details?")&&D()},className:"jsx-aed0477b377e7380 save-button",children:"Save"}),(0,s.jsx)("button",{onClick:()=>q(!0),className:"jsx-aed0477b377e7380 clear-button",children:"Clear"})]}),A&&(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 clear-options",children:[(0,s.jsx)("p",{className:"jsx-aed0477b377e7380",children:"Please select payment status:"}),(0,s.jsxs)("div",{className:"jsx-aed0477b377e7380 option-buttons",children:[(0,s.jsx)("button",{onClick:M,className:"jsx-aed0477b377e7380 option-button",children:"Full Payment"}),(0,s.jsx)("button",{onClick:Y,className:"jsx-aed0477b377e7380 option-button",children:"Pending Payment"}),(0,s.jsx)("button",{onClick:()=>{q(!1)},className:"jsx-aed0477b377e7380 option-button cancel-button",children:"Cancel"})]})]}),(0,s.jsx)(i(),{id:"aed0477b377e7380",children:".main-container.jsx-aed0477b377e7380{max-width:800px;margin:0 auto;padding:20px}.header.jsx-aed0477b377e7380{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 0}.user-container.jsx-aed0477b377e7380{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.usrimg.jsx-aed0477b377e7380{width:50px;height:50px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.header-text.jsx-aed0477b377e7380{margin-left:10px}.helloname.jsx-aed0477b377e7380{font-size:14px;margin:0}.username.jsx-aed0477b377e7380{font-size:16px;font-weight:bold;color:darkslategrey;margin:0}.logoutimg.jsx-aed0477b377e7380{width:25px;height:25px}.separator.jsx-aed0477b377e7380{margin:25px 0;border-bottom:1px solid black}.section-header.jsx-aed0477b377e7380{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px}.icon.jsx-aed0477b377e7380{width:25px;height:25px}.section-title.jsx-aed0477b377e7380{font-size:20px;font-weight:500;margin-left:10px}.form-group.jsx-aed0477b377e7380{margin-bottom:15px}.label.jsx-aed0477b377e7380{font-size:15px;margin-bottom:5px;display:block}.input.jsx-aed0477b377e7380{width:100%;padding:10px;border:1px solid gray;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;background-color:#d3d3d3;font-size:15px}.date-group.jsx-aed0477b377e7380{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px}.date-input.jsx-aed0477b377e7380{width:30%;padding:10px;border:1px solid gray;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;background-color:#d3d3d3;font-size:15px}.pending-amount.jsx-aed0477b377e7380{font-size:18px;margin-top:20px}.button-group.jsx-aed0477b377e7380{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:20px;margin-top:20px}.save-button.jsx-aed0477b377e7380,.clear-button.jsx-aed0477b377e7380{padding:10px 20px;background-color:#841584;color:white;border:none;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;cursor:pointer}.clear-options.jsx-aed0477b377e7380{margin-top:20px;text-align:center;border:1px solid#ccc;padding:15px;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;background-color:#f9f9f9}.option-buttons.jsx-aed0477b377e7380{margin-top:10px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10px}.option-button.jsx-aed0477b377e7380{padding:8px 16px;background-color:#841584;color:white;border:none;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;cursor:pointer}.cancel-button.jsx-aed0477b377e7380{background-color:#555}.error-container.jsx-aed0477b377e7380{text-align:center;margin-top:50px}.error-message.jsx-aed0477b377e7380{color:red;font-size:18px}@media(max-width:600px){.usrimg.jsx-aed0477b377e7380{width:40px;height:40px}.helloname.jsx-aed0477b377e7380{font-size:12px}.username.jsx-aed0477b377e7380{font-size:14px}.logoutimg.jsx-aed0477b377e7380{width:20px;height:20px}.section-title.jsx-aed0477b377e7380{font-size:18px}.label.jsx-aed0477b377e7380{font-size:14px}.input.jsx-aed0477b377e7380{font-size:14px;padding:8px}.date-group.jsx-aed0477b377e7380{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.date-input.jsx-aed0477b377e7380{width:100%;margin-top:5px}.pending-amount.jsx-aed0477b377e7380{font-size:16px}.button-group.jsx-aed0477b377e7380{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:10px}.save-button.jsx-aed0477b377e7380,.clear-button.jsx-aed0477b377e7380{width:100%}}"})]}):(0,s.jsx)("div",{className:"error-container",children:(0,s.jsx)("p",{className:"error-message",children:"No details available for this vehicle."})})}},83805:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/CarFinanceBackend/CarFinanceBackend/CarFinanceFrontendWeb/src/app/ViewCarDetails/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/CarFinanceBackend/CarFinanceBackend/CarFinanceFrontendWeb/src/app/ViewCarDetails/page.tsx","default")}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[638,619,77,103,668,926,381],()=>t(66664));module.exports=s})();