{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chaku/OneDrive/Desktop/CarFinanceFrontendWeb/src/app/Addpaymentpopup/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\n'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport axios from 'axios';\r\n\r\n// Dynamically import react-select without SSR.\r\nconst ReactSelect = dynamic(() => import('react-select'), { ssr: false });\r\n\r\nconst AddPaymentPopup = () => {\r\n  const [customerList, setCustomerList] = useState<any[]>([]);\r\n  const [selectedCustomer, setSelectedCustomer] = useState<any>(null);\r\n  const [paymentAmount, setPaymentAmount] = useState('');\r\n  const [paymentMethod, setPaymentMethod] = useState('cash');\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchCustomerNames();\r\n  }, []);\r\n\r\n  const fetchCustomerNames = async () => {\r\n    try {\r\n      const response = await axios.get('http://15.207.48.53:3000/customers');\r\n      const customers = (response.data as any[]).map((customer: any) => ({\r\n        label: customer.name,\r\n        value: customer.name,\r\n      }));\r\n      setCustomerList(customers);\r\n    } catch (error) {\r\n      console.error('Error fetching customer names:', error);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setError('');\r\n    if (!selectedCustomer || !paymentAmount) {\r\n      setError('Please fill all fields.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post('http://15.207.48.53:3000/addPayment', {\r\n        customer: selectedCustomer.value,\r\n        method: paymentMethod,\r\n        amount: parseFloat(paymentAmount),\r\n      });\r\n      // console.log('Payment added successfully:', response.data);\r\n      clearForm();\r\n    } catch (error) {\r\n      console.error('Error adding payment:', error);\r\n      setError('Failed to add payment. Please try again.');\r\n    }\r\n  };\r\n\r\n  const clearForm = () => {\r\n    setSelectedCustomer(null);\r\n    setPaymentAmount('');\r\n    setPaymentMethod('cash');\r\n    setError('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center min-h-screen bg-gray-100\">\r\n      <div className=\"bg-white p-6 rounded-lg shadow-lg w-96\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Add Payment</h2>\r\n\r\n        <ReactSelect\r\n          options={customerList}\r\n          value={selectedCustomer}\r\n          onChange={setSelectedCustomer}\r\n          placeholder=\"Select Customer\"\r\n          className=\"mb-4\"\r\n        />\r\n\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Payment Amount\"\r\n          value={paymentAmount}\r\n          onChange={(e) => setPaymentAmount(e.target.value)}\r\n          className=\"w-full p-2 border border-gray-300 rounded mb-4\"\r\n        />\r\n\r\n        <div className=\"mb-4\">\r\n          <p className=\"mb-2 font-medium\">Payment Method:</p>\r\n          <div className=\"flex flex-col gap-2\">\r\n            <label className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"cash\"\r\n                checked={paymentMethod === 'cash'}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              />\r\n              Cash\r\n            </label>\r\n            <label className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"bankTransfer\"\r\n                checked={paymentMethod === 'bankTransfer'}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              />\r\n              Bank Transfer\r\n            </label>\r\n            <label className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"upi\"\r\n                checked={paymentMethod === 'upi'}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              />\r\n              UPI\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n\r\n        <div className=\"flex justify-between\">\r\n          <button\r\n            onClick={handleSave}\r\n            className=\"bg-purple-600 hover:bg-purple-700 text-white p-2 rounded w-1/2 mr-2\"\r\n          >\r\n            Save\r\n          </button>\r\n          <button\r\n            onClick={clearForm}\r\n            className=\"bg-gray-500 hover:bg-gray-600 text-white p-2 rounded w-1/2\"\r\n          >\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPaymentPopup;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}